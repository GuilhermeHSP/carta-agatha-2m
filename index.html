<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carta de Amor de 2 Meses - Agatha</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Allura&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Part√≠culas flutuantes -->
    <div class="floating-hearts" id="heartsContainer"></div>

    <!-- Container do envelope -->
    <div class="envelope-container" id="envelopeContainer">
        <div class="envelope" id="envelope">
            <div class="envelope-flap" id="flap"></div>
            <div class="seal" id="seal">
                <div class="seal-inner"></div>
            </div>
        </div>
        <div class="click-hint">Clique para abrir sua carta üíï</div>
    </div>

    <!-- Carta -->
    <div class="letter" id="letter">
        <div class="letter-content">
            <div class="letter-text">
Meu amor,

Hoje n√≥s completamos dois meses juntos.

S√£o 61 dias, ou 1.464 horas, ou 87.840 minutos‚Ä¶ e, ainda assim, parece t√£o pouco.

Me deixa imensamente feliz saber que esses s√£o apenas os primeiros 61 dias de uma vida inteira que eu quero passar ao seu lado. Em t√£o pouco tempo, voc√™ j√° se tornou minha parceira pra tudo, meu porto seguro, algu√©m em quem confio de olhos fechados e, principalmente, a pessoa com quem sonho em construir uma fam√≠lia e me casar. Eu sei que ainda nem te pedi em namoro oficialmente, mas o meu cora√ß√£o sente que somos namorados desde o momento em que te vi ‚Äî e somos mesmo, viu, mocinha?!

Todos os dias eu tenho vontade de ser uma pessoa melhor por voc√™ e pra voc√™.

Amor, voc√™ transformou a minha vida desde o primeiro segundo em que entrou nela. Voc√™ me faz rir, me consola quando estou triste, cuida de mim como ningu√©m nunca cuidou e deu vida √† minha vida. Sou imensamente grato por ter voc√™ comigo todos os dias. O que mais eu poderia querer?

Voc√™ √© o meu sonho, Agatha. Eu te amo mil milh√µes, meu amorzinho! ‚ù§Ô∏è
            </div>
            <div class="signature">
                Com amor,<br>Guilherme
            </div>
        </div>
    </div>

    <!-- Controle de m√∫sica -->
    <div class="music-toggle" id="musicToggle" title="Tocar m√∫sica rom√¢ntica">
        <svg viewBox="0 0 24 24">
            <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
        </svg>
    </div>

    <!-- √Åudio (simulado - em produ√ß√£o, adicione um arquivo de √°udio real) -->
    <audio id="romanticMusic" loop>
        <!-- Substitua com um arquivo de √°udio real -->
        <source src="src/All I Can Say.mp3" type="audio/wav">
    </audio>

    <script>
        // Estado da aplica√ß√£o
        let isOpen = false;
        let isPlaying = false;
        const envelope = document.getElementById('envelope');
        const flap = document.getElementById('flap');
        const seal = document.getElementById('seal');
        const letter = document.getElementById('letter');
        const envelopeContainer = document.getElementById('envelopeContainer');
        const musicToggle = document.getElementById('musicToggle');
        const romanticMusic = document.getElementById('romanticMusic');
        const heartsContainer = document.getElementById('heartsContainer');

        // Criar part√≠culas flutuantes
        function createHeart() {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.innerHTML = '‚ù§';
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDelay = Math.random() * 5 + 's';
            heart.style.fontSize = (Math.random() * 20 + 10) + 'px';
            heartsContainer.appendChild(heart);

            // Remover cora√ß√£o ap√≥s anima√ß√£o
            setTimeout(() => {
                heart.remove();
            }, 8000);
        }

        // Gerar cora√ß√µes periodicamente
        setInterval(createHeart, 2000);
        // Criar alguns cora√ß√µes iniciais
        for (let i = 0; i < 5; i++) {
            setTimeout(createHeart, i * 1000);
        }

        // Abrir envelope
        function openEnvelope() {
            if (isOpen) return;
            
            isOpen = true;
            
            // Animar selo quebrando
            seal.classList.add('broken');
            
            // Abrir aba do envelope
            setTimeout(() => {
                flap.classList.add('open');
            }, 300);
            
            // Mostrar carta
            setTimeout(() => {
                letter.classList.add('visible');
                // Esconder envelope gradualmente
                envelopeContainer.style.opacity = '0.3';
                envelopeContainer.style.transform = 'rotate(-5deg) scale(0.9)';
                
                // Criar explos√£o de cora√ß√µes
                for (let i = 0; i < 10; i++) {
                    setTimeout(() => createHeart(), i * 100);
                }
            }, 800);
            
            // Tocar m√∫sica se n√£o estiver tocando
            if (!isPlaying) {
                toggleMusic();
            }
        }

        // Controle de m√∫sica
        function toggleMusic() {
            if (isPlaying) {
                romanticMusic.pause();
                musicToggle.innerHTML = `
                    <svg viewBox="0 0 24 24">
                        <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
                    </svg>
                `;
            } else {
                romanticMusic.play().catch(e => console.log('Autoplay bloqueado'));
                musicToggle.innerHTML = `
                    <svg viewBox="0 0 24 24">
                        <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
                    </svg>
                `;
            }
            isPlaying = !isPlaying;
        }

        // Event listeners
        envelope.addEventListener('click', openEnvelope);
        musicToggle.addEventListener('click', toggleMusic);

        // Efeito parallax sutil no mouse move
        document.addEventListener('mousemove', (e) => {
            if (!isOpen) return;
            
            const x = (e.clientX - window.innerWidth / 2) / window.innerWidth;
            const y = (e.clientY - window.innerHeight / 2) / window.innerHeight;
            
            letter.style.transform = `translateX(-50%) translateY(0) rotateX(${y * 5}deg) rotateY(${x * 5}deg)`;
        });

        // Resetar anima√ß√£o ao sair do mouse
        document.addEventListener('mouseleave', () => {
            if (isOpen) {
                letter.style.transform = 'translateX(-50%) translateY(0)';
            }
        });

        // Adicionar efeito de brilho ao clicar na carta
        letter.addEventListener('click', function(e) {
            const ripple = document.createElement('div');
            ripple.style.position = 'absolute';
            ripple.style.width = '20px';
            ripple.style.height = '20px';
            ripple.style.background = 'radial-gradient(circle, rgba(255,182,193,0.6) 0%, transparent 70%)';
            ripple.style.borderRadius = '50%';
            ripple.style.transform = 'translate(-50%, -50%)';
            ripple.style.pointerEvents = 'none';
            ripple.style.animation = 'ripple 0.6s ease-out';
            
            const rect = this.getBoundingClientRect();
            ripple.style.left = (e.clientX - rect.left) + 'px';
            ripple.style.top = (e.clientY - rect.top) + 'px';
            
            this.appendChild(ripple);
            
            setTimeout(() => ripple.remove(), 600);
        });

        // Prevenir sele√ß√£o de texto durante anima√ß√µes
        document.addEventListener('selectstart', (e) => {
            if (!isOpen) {
                e.preventDefault();
            }
        });
    </script>
</body>
</html>